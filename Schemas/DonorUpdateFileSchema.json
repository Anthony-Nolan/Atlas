{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"type": "object",
	"properties": {
		"updateMode": {
			"type": "string",
			"enum": [ "diff" ]
		},
		"donors": {
			"type": "array",
			"minItems": 1,
			"items": {
				"type": "object",
				"properties": {
					"recordId": {
						"type": "integer"
					},
					"changeType": {
						"type": "string",
						"enum": [ "D", "U", "N", "NU" ],
						"description": "Deleted, Updated, New or New-or-Update (Upsert)"
					},
					"donorType": {
						"type": "string",
						"enum": [ "D", "C", "B" ],
						"description": "Donor, Cord or Banked"
					},
					"donPool": {
						"type": "integer",
						"minimum": 1000,
						"maximum": 9999,
						"description": "Physical location of the donor. Used to denote which registry a donor belongs to. Four digit code. "
					},
					"ethn": {
						"enum": [ "AFNA", "AFSS", "ASSW", "ASSO", "ASCE", "ASSE", "ASNE", "ASOC", "CAEU", "CAER", "CANA", "CAAU", "HICA", "HISA", "AF", "AS", "CA", "HI", "MX", "OT", "UK", null ]
					},
					"hla": {
						"$ref": "#/definitions/hla"
					}
				},
				"required": [ "recordId", "donorType", "donPool", "ethn", "hla" ],
				"additionalProperties": false
			}
		}
	},
	"required": [ "updateMode", "donors" ],
	"additionalProperties": false,
	"definitions": {
		"dna": {
			"type": "object",
			"properties": {
				"field1": {
					"type": [ "string", "null" ],
					"maxLength": 20
				},
				"field2": {
					"type": [ "string", "null" ],
					"maxLength": 20
				}
			},
			"required": [ "field1", "field2" ],
			"additionalProperties": false
		},
		"ser": {
			"type": "object",
			"properties": {
				"field1": {
					"type": [ "string", "null" ],
					"maxLength": 5
				},
				"field2": {
					"type": [ "string", "null" ],
					"maxLength": 5
				}
			},
			"required": [ "field1", "field2" ],
			"additionalProperties": false
		},
		"a": {
			"type": "object",
			"properties": {
				"dna": {
					"$ref": "#/definitions/dna"
				},
				"ser": {
					"$ref": "#/definitions/ser"
				}
			},
			"required": [ "dna", "ser" ],
			"additionalProperties": false
		},
		"b": {
			"type": "object",
			"properties": {
				"dna": {
					"$ref": "#/definitions/dna"
				},
				"ser": {
					"$ref": "#/definitions/ser"
				}
			},
			"required": [ "dna", "ser" ],
			"additionalProperties": false
		},
		"c": {
			"type": "object",
			"properties": {
				"dna": {
					"$ref": "#/definitions/dna"
				},
				"ser": {
					"$ref": "#/definitions/ser"
				}
			}
		},
		"dpa1": {
			"type": "object",
			"properties": {
				"dna": {
					"$ref": "#/definitions/dna"
				}
			}
		},
		"dpb1": {
			"type": "object",
			"properties": {
				"dna": {
					"$ref": "#/definitions/dna"
				}
			}
		},
		"dqa1": {
			"type": "object",
			"properties": {
				"dna": {
					"$ref": "#/definitions/dna"
				}
			}
		},
		"dqb1": {
			"type": "object",
			"properties": {
				"dna": {
					"$ref": "#/definitions/dna"
				},
				"ser": {
					"$ref": "#/definitions/ser"
				}
			}
		},
		"drb1": {
			"type": "object",
			"properties": {
				"dna": {
					"$ref": "#/definitions/dna"
				},
				"ser": {
					"$ref": "#/definitions/ser"
				}
			}
		},
		"drb3": {
			"type": "object",
			"properties": {
				"dna": {
					"$ref": "#/definitions/dna"
				}
			}
		},
		"drb4": {
			"type": "object",
			"properties": {
				"dna": {
					"$ref": "#/definitions/dna"
				}
			}
		},
		"drb5": {
			"type": "object",
			"properties": {
				"dna": {
					"$ref": "#/definitions/dna"
				}
			}
		},
		"hla": {
			"type": "object",
			"properties": {
				"a": {
					"$ref": "#/definitions/a"
				},
				"b": {
					"$ref": "#/definitions/b"
				},
				"c": {
					"$ref": "#/definitions/c"
				},
				"dpa1": {
					"$ref": "#/definitions/dpa1"
				},
				"dpb1": {
					"$ref": "#/definitions/dpb1"
				},
				"dqa1": {
					"$ref": "#/definitions/dqa1"
				},
				"dqb1": {
					"$ref": "#/definitions/dqb1"
				},
				"drb1": {
					"$ref": "#/definitions/drb1"
				},
				"drb3": {
					"$ref": "#/definitions/drb3"
				},
				"drb4": {
					"$ref": "#/definitions/drb4"
				},
				"drb5": {
					"$ref": "#/definitions/drb5"
				}
			},
						"required": [ "a", "b", "c", "drb1", "drb3", "drb4", "drb5", "dqa1", "dqb1", "dpa1", "dpb1" ],
						"additionalProperties": false
		}
	}
}
