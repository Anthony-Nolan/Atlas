This readme exists to give context to the test resources located in this folder - any more general test and debug resources should go in the top level README.

# Matching Algorithm

- InitialDonorTestData.sql

This script will insert some arbitrary (pre-processed) donor data to the transient database. 
Running it on the transient database locally should give a small, searchable dataset without the need to run the full data refresh.
This data was generated by the validation test framework, using Matching Dictionary version 3330.
Note that (as of Apr 2020), the latest Matching Dictionary is 3390; which is what you'll download from GitHub, so there's a degree of discrepancy there.
We don't expect this discrepancy to cause a problem in practice.

- InitialRefreshData.sql

Normally Donor data would be inserted by a FullDataRefresh, which would create records in the Persistent DB recording the completion of a Refresh.
Because we're hacking that data into the transient DB, we need to simulate that record. This script does that.
Note that this row reflects the latest Matching Dictionary version, as mentioned above.

-ZeroResultsSearch.json

This is a validly formatted request, but doesn't have any matching donors in our initial Test Data.
However, it also doesn't trigger any NMDP lookups, so it's a useful test to check whether *other* aspects of the search are functioning.

-EightResultsSearch.json

This is a search that should actually return results! Created by taking a perfect copy of one of the first donor records.
